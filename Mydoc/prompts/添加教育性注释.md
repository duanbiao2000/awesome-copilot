# 添加教育性注释功能介绍

## 核心能力
`add-educational-comments` 是一个智能代码教育工具，能够为代码文件添加教育性注释，将其转换为有效的学习资源。

## 主要功能

### 注释生成
- 为代码文件添加教育性注释，提升代码的可学习性
- 根据用户知识水平调整注释的深度和复杂度
- 保持原有代码结构和功能不变

### 智能适配
- 自动识别文件编码并保持不变
- 遵循不同编程语言的缩进和格式规范
- 支持多种编程语言（Python、JavaScript、Java、C++等）

## 配置参数

### 基本参数
- **Comment Detail (1-3)**：注释详细程度，默认值为2
- **Repetitiveness (1-3)**：概念重复频率，默认值为2
- **User Knowledge (1-3)**：用户通用计算机科学知识水平，默认值为2
- **Educational Level (1-3)**：用户对特定语言/框架的熟悉程度，默认值为1

### 格式选项
- **Line Number Referencing**：是否添加行号引用，默认为`yes`
- **Nest Comments**：是否在代码块内缩进注释，默认为`yes`

## 工作流程

### 1. 输入确认
检查是否提供了目标文件，如未提供则提示用户输入。

### 2. 文件识别
当存在多个匹配文件时，提供有序列表供用户选择。

### 3. 配置解析
结合默认配置和用户指定值，智能处理明显的拼写错误。

### 4. 注释规划
确定代码中最佳的支持学习目标的段落。

### 5. 注释添加
按照配置的详细程度、重复性和知识水平添加教育性注释。

### 6. 验证检查
确认格式、编码和语法完整性，确保满足125%规则和行数限制。

## 教育注释规则

### 编码和格式
- 保持原有文件编码不变
- 仅使用标准QWERTY键盘字符
- 保持原有的换行符风格（LF或CRLF）
- 遵循各语言的缩进规范

### 内容要求
- 重点解释语言或平台概念的行和代码块
- 阐述语法、习惯用法和设计选择背后的原因
- 适度重复先前概念以增强理解
- 温和地提出改进建议，仅当其具有教育意义时

## 行数控制标准

- **默认目标**：使文件达到原始长度的125%
- **硬性限制**：新增教育注释行数不超过400行
- **大文件处理**：超过1000行的文件，注释行数不超过300行
- **已处理文件**：修订改进现有注释，不再追求125%增长

## 使用示例

### 缺少文件输入
当未提供文件时，工具会提示：
```
Please provide a file or files to add educational comments to. Preferably as chat variable or attached context.
```

### 自定义配置
用户可以指定详细配置：
```
/add-educational-comments #file:output_name.py Comment Detail = 1, Repetitiveness = 1, Line Numer = no
```
工具会智能解析`Line Numer = no`为`Line Number Referencing = no`并相应调整行为。
