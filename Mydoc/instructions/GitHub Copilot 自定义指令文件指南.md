# GitHub Copilot 自定义指令文件指南

## 核心技术简介

GitHub Copilot 自定义指令文件是一种 Markdown 格式的配置文件，用于为特定项目或技术栈提供上下文感知的代码生成指导。通过在 `.github/instructions/` 目录下创建这些文件，开发者可以指导 Copilot 遵循特定的编码规范、最佳实践和项目约定，从而生成更符合项目需求的代码。

## 文件结构要求

### 必需的前端元数据

每个指令文件必须包含以下 YAML 前端元数据：

```yaml
---
description: '指令目的和范围的简要描述'
applyTo: '目标文件的glob模式 (如 **/*.ts, **/*.py)'
---
```

### 文件组织结构

良好的指令文件应包含以下部分：

1. **标题和概述** - 使用 `#` 标题清晰描述目的
2. **核心章节** - 按领域组织的逻辑部分（通用指令、最佳实践、代码标准等）
3. **示例和代码片段** - 提供具体的正反例代码
4. **验证和确认**（可选）- 构建、测试和验证步骤

## 内容编写规范

### 写作风格

- 使用清晰简洁的语言
- 采用命令式语调（"使用"、"实现"、"避免"）
- 具体且可操作
- 避免模糊词汇如"应该"、"可能"
- 使用要点和列表提高可读性

### 最佳实践

- **具体化**：提供具体示例而非抽象概念
- **说明原因**：解释推荐做法背后的原理
- **使用表格**：比较选项、列出规则或展示模式
- **包含示例**：真实的代码片段比描述更有效
- **保持更新**：引用当前版本和最佳实践

## 常见模式

### 要遵循的模式

- 使用要点和列表组织信息
- 采用表格展示结构化信息
- 提供代码对比示例（好例子 vs 坏例子）
- 给出条件性指导建议

### 要避免的模式

- 过于冗长的解释
- 过时的信息
- 模糊的指导
- 缺少示例的抽象规则
- 自相矛盾的建议

## 维护要求

- 当依赖或框架更新时审查指令
- 更新示例以反映当前最佳实践
- 移除过时模式或弃用功能
- 根据社区新出现的模式进行添加
- 保持 glob 模式的准确性以匹配目标文件

## 测试验证

创建指令文件后应进行以下测试：

1. **与 Copilot 测试**：在 VS Code 中使用实际提示测试指令效果
2. **验证示例**：确保代码示例正确且无错误运行
3. **检查 Glob 模式**：确认 `applyTo` 模式正确匹配目标文件
