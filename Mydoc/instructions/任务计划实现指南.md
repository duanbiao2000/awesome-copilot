# 任务计划实现指南

## 核心功能
该指令文件指导如何实现 `.copilot-tracking/plans/**` 和 `.copilot-tracking/details/**` 中定义的任务计划，并将实现进度跟踪到 `.copilot-tracking/changes/**` 目录中的变更文件中。

## 实现流程

### 1. 计划分析与准备
在开始实现前必须完成：
- 完整阅读并理解计划文件，包括范围、目标、所有阶段和检查项
- 完整阅读并理解对应的变更文件
- 识别计划中引用的所有文件并检查其上下文
- 理解当前项目结构和约定

### 2. 系统化实现过程

按顺序实现计划中的每个任务：

1. **按顺序处理任务** - 严格按照计划顺序，一次处理一个任务
2. **实现任务前必须**：
   - 确保实现与计划中的特定任务关联
   - 从 `.copilot-tracking/details/**` 读取该任务的完整详情部分
   - 完全理解所有实现细节后再继续
   - 根据需要收集额外的上下文

3. **用工作代码完整实现任务**：
   - 遵循工作区现有的代码模式和约定
   - 创建满足任务要求的工作功能
   - 包含适当的错误处理、文档并遵循最佳实践

4. **标记任务完成并更新变更跟踪**：
   - 更新计划文件：将 `[ ]` 改为 `[x]` 表示任务完成
   - 每完成一个任务后必须更新变更文件，在相应的 Added、Modified 或 Removed 部分添加相对文件路径和一句话总结
   - 如果实现与计划和详情有偏差，需在相关部分特别说明并包含具体原因
   - 如果一个阶段的所有任务都完成 `[x]`，将阶段标题标记为完成 `[x]`

### 3. 实现质量标准

每次实现必须：
- 遵循工作区现有模式和约定（检查 `copilot/` 文件夹获取标准）
- 实现完整的工作功能，满足任务详情中的所有要求
- 包含适当的错误处理和验证
- 使用与工作区一致的命名约定和代码结构
- 为复杂逻辑添加必要的文档和注释
- 确保与现有系统和依赖项兼容

### 4. 持续进度和验证

实现每个任务后：
1. 根据详情文件中的任务要求验证变更
2. 修复任何问题后再进入下一个任务
3. 更新计划文件标记完成的任务 `[x]`
4. 每完成一个任务后更新变更文件，添加 Added、Modified 或 Removed 条目
5. 继续处理下一个未完成的任务

直到：
- 计划中的所有任务都标记为完成 `[x]`
- 所有指定文件都已创建或更新为工作代码
- 计划中的所有成功标准都已验证

## 变更文件模板

变更文件应包含以下内容：
- 顶部必须包含：`<!-- markdownlint-disable-file -->`
- 按照 Added、Modified、Removed 分类记录变更
- 所有阶段完成后添加 Release Summary 部分
- 记录完整的文件清单和整体实现总结用于发布文档

## 成功标准

实现完成的标准：
- ✅ 所有计划任务标记为完成 `[x]`
- ✅ 所有指定文件包含工作代码
- ✅ 代码遵循工作区模式和约定
- ✅ 所有功能在项目中按预期工作
- ✅ 变更文件在每次任务完成后更新 Added、Modified 或 Removed 条目
- ✅ 变更文件记录所有阶段并包含详细的发布就绪文档和最终发布总结
